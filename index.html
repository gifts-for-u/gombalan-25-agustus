<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <title>Untuk Sayangku</title>
    <style>
      body {
        margin: 0;
        font-family: "Poppins", sans-serif;
        background: #ffe6f0;
        overflow: hidden;
      }

      /* Hujan hati */
      .heart {
        position: fixed;
        top: -10px;
        color: #ff4d6d;
        font-size: 24px;
        animation: fall linear forwards;
        z-index: 0; /* selalu di belakang */
      }
      @keyframes fall {
        to {
          transform: translateY(100vh);
          opacity: 0;
        }
      }

      /* Section handling */
      .section {
        display: none;
        height: 100vh;
        width: 100%;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        text-align: center;
        position: relative;
        z-index: 1; /* section di atas hujan hati */
      }
      .active {
        display: flex;
      }

      /* Tombol next pembuka */
      .next-btn {
        margin-top: 20px;
        padding: 12px 24px;
        background: #ff4d6d;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        cursor: pointer;
        animation: pulse 1.5s infinite;
        z-index: 2;
        position: relative;
      }
      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      /* Quiz card */
      .quiz-card {
        background: white;
        padding: 20px;
        border-radius: 16px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        width: 90%;
        max-width: 400px;
        text-align: center;
        opacity: 0;
        transition: opacity 0.6s ease;
        z-index: 2; /* di atas hujan hati */
        position: relative;
      }
      .quiz-card.show {
        opacity: 1;
      }

      .question {
        font-size: 18px;
        margin-bottom: 16px;
        color: #333;
      }

      .options button {
        display: block;
        width: 100%;
        margin: 8px 0;
        padding: 12px;
        border: none;
        border-radius: 8px;
        background: #ffb3c6;
        color: #fff;
        font-size: 16px;
        cursor: pointer;
        transition: 0.3s;
      }
      .options button:hover {
        background: #ff4d6d;
      }

      .nav-btns {
        margin-top: 20px;
        display: flex;
        justify-content: space-between;
      }
      .nav-btns button {
        padding: 10px 16px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        background: #ff4d6d;
        color: #fff;
      }

      /* Popup */
      .popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.7);
        background: #fff0f5;
        padding: 20px;
        border-radius: 16px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        opacity: 0;
        transition: all 0.4s ease;
        text-align: center;
        z-index: 999;
        visibility: hidden;
      }
      .popup.show {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
        visibility: visible;
      }
      .popup button {
        margin-top: 10px;
        padding: 8px 16px;
        border: none;
        border-radius: 8px;
        background: #ff4d6d;
        color: white;
        cursor: pointer;
      }

      /* Blur */
      .blurred {
        filter: blur(6px);
        pointer-events: none;
      }

      /* Ending */
      #ending .message-box {
        width: 320px;
        background: #fff;
        padding: 20px;
        border-radius: 12px;
        border: 1px solid #ccc;
        font-size: 14px;
        line-height: 1.6;
        text-align: left;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      }
      .floating-heart {
        position: absolute;
        color: #ff4d6d;
        font-size: 20px;
        animation: float 6s linear forwards;
      }
      @keyframes float {
        from {
          transform: translateY(100vh);
          opacity: 1;
        }
        to {
          transform: translateY(-20vh);
          opacity: 0;
        }
      }
    </style>
  </head>
  <body>
    <!-- Section Pembuka -->
    <div class="section active" id="opening">
      <h1>Halo sayang aku ❤️</h1>
      <button class="next-btn" onclick="showSection('quiz')">Next</button>
    </div>

    <!-- Section Quiz -->
    <div class="section" id="quiz">
      <div class="quiz-card" id="quizCard">
        <div class="question" id="questionText"></div>
        <div class="options" id="options"></div>
        <div class="nav-btns">
          <button onclick="prevQuestion()">Previous</button>
          <button id="nextBtn" onclick="nextQuestion()">Next</button>
        </div>
      </div>
    </div>

    <!-- Popup -->
    <div class="popup" id="popup">
      <p id="popupText"></p>
      <button onclick="closePopup()">OK</button>
    </div>

    <!-- Ending -->
    <div class="section" id="ending">
      <h2>Pesan untukmu ❤️</h2>
      <div class="message-box">
        sayanggg, maafff yaaa tadi sempet bikin kamu beteee. mamas minta maafff,
        mamas gamau kamu beteee, maafff yaaa cantikkk akuuu. maafff udah bikin
        kamu kesell tadiii, maafff yaaa sayangg. mwaaaa mwaaaa. tapi aku beneran
        mau itu jadi hadiah kamu yang udah berhasil ngelewatin kehectican
        skripsi kemarinn. aku mau mengapresiasi kamu, itu reward dari aku buat
        kamu. semoga awet, dijaga yaaa sayangg, love uuu sayanggg akuuuu❣️
      </div>
    </div>

    <script>
      // Hujan hati (tanpa henti, tapi berhenti saat Finish)
      let rainInterval = setInterval(createHeart, 50);

      function createHeart() {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.innerText = "❤️";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDuration = 2 + Math.random() * 3 + "s";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 5000);
      }

      // Section switch
      function showSection(id) {
        document
          .querySelectorAll(".section")
          .forEach((sec) => sec.classList.remove("active"));
        document.getElementById(id).classList.add("active");
        if (id === "quiz") showQuestion();
        if (id === "ending") {
          clearInterval(rainInterval); // stop hujan hati saat ending
          startFloatingHearts();
        }
      }

      // Quiz data
      const quizzes = [
        {
          q: "Aku sayang _____",
          opts: ["kamu", "KAMU❣️"],
          msg: "kamu, kamu, kamu pokonya aku sayangg kamuuuu❣️",
        },
        {
          q: "Kamu sayang _____",
          opts: ["aku", "harus aku lah"],
          msg: "sayang sama aku lah, emang mau sama siapa lagi? george? atau thomas brodiesangster?",
        },
        {
          q: "Naufal ❤️ _____",
          opts: ["jahra", "Zahrah Maulida Dzikrilillah"],
          msg: "i love u in every universe❣️",
        },
        {
          q: "Zahrah ❤️ _____",
          opts: ["naufal", "kamu mau pilih siapa emang?"],
          msg: "masa iya kamu ga cinta aku si...",
        },
        {
          q: "Nikah sama aku yuk?",
          opts: ["yuk", "yuk gas besok gapake rem"],
          msg: "bismillah kita bisa sampe sana yaaa, aku hafalin al-kahfi duluuu wkwkwkwk",
        },
      ];

      let currentQ = 0;

      function showQuestion() {
        const card = document.getElementById("quizCard");
        card.classList.remove("show");
        setTimeout(() => {
          const q = quizzes[currentQ];
          document.getElementById("questionText").innerText = q.q;
          const optionsDiv = document.getElementById("options");
          optionsDiv.innerHTML = "";
          q.opts.forEach((opt) => {
            const btn = document.createElement("button");
            btn.innerText = opt;
            btn.onclick = () => showPopup(q.msg);
            optionsDiv.appendChild(btn);
          });
          document.getElementById("nextBtn").innerText =
            currentQ === quizzes.length - 1 ? "Finish" : "Next";
          card.classList.add("show");
        }, 300);
      }

      function nextQuestion() {
        if (currentQ < quizzes.length - 1) {
          currentQ++;
          showQuestion();
        } else {
          showSection("ending");
        }
      }

      function prevQuestion() {
        if (currentQ > 0) {
          currentQ--;
          showQuestion();
        }
      }

      // Popup
      function showPopup(text) {
        const popup = document.getElementById("popup");
        document.getElementById("popupText").innerText = text;
        popup.classList.add("show");
        document.getElementById("quizCard").classList.add("blurred");
      }
      function closePopup() {
        document.getElementById("popup").classList.remove("show");
        document.getElementById("quizCard").classList.remove("blurred");
      }

      // Ending floating hearts
      function startFloatingHearts() {
        setInterval(() => {
          const heart = document.createElement("div");
          heart.classList.add("floating-heart");
          heart.innerText = "❤️";
          heart.style.left = Math.random() * 100 + "vw";
          heart.style.animationDuration = Math.random() * 3 + 4 + "s";
          document.getElementById("ending").appendChild(heart);
          setTimeout(() => heart.remove(), 7000);
        }, 500);
      }
    </script>
  </body>
</html>
